# Web-Application utilisée pour CantalVolley.fr

## Fonctionnement des DAO

### Initialisation
Pour faire fonctionner les DAO dans l'application, il est nécessaire d'initialiser le gestionnaire une première fois.
```java
DAOManager.get(); 
```
Le gestionnaire est un singleton, donc il sera initialisé au premier appel à la méthode ```.get()```, mais il est préférable de l'appeler une première fois au début de l'application, pour éviter tout ralentissement lors de l'utilisation, quand le gestionnaire sera instancié.

### Définition des classes modèles
Chaque classe modèle doit être définie grâce aux annotations fournies par la librairie.
```java
@DAOTable(tableName = "sai")
public class Season {
	@DAOTableIDField(autoGenerated = true)
	@DAOTableField(fieldName = "numsai")
	private Integer identifier;
	@DAOTableField(fieldName = "prdsai")
	private String startYear;
	@DAOTableField(fieldName = "prfsai")
	private String endYear;
}
```
Chaque attribut marqué avec l'annotation ```@DAOTableField``` doit posséder un getter ainsi qu'un setter.

### Définition d'un DAO pour une classe modèle
Pour définir un DAO spécifique à une classe modèle, il est nécessaire d'implémenter l'interface ```com.jtouzy.dao.DAO<T>```.  

Deux implémentations abstraites existent déjà pour cette interface permettant d'en faciliter la définition : ```com.jtouzy.dao.AbstractDAO<T>``` et ```com.jtouzy.dao.AbstractSingleIdentifierDAO<T>```.

La première implémentation représente le DAO d'une classe modèle générique. La seconde, héritant de la première, représente une classe modèle dont l'identifiant contient une seule zone numérique (La définition de la classe modèle ne contient qu'un seul attribut avec l'annotation ```@DAOTableIDField``` avec le type ```Integer```).

Exemple d'implémentation d'un DAO pour une classe modèle :
```java
public class SeasonDAO extends AbstractSingleIdentifierDAO<Season> {
	public SeasonDAO(Class<Season> daoClass)
	throws ProgramException {
		super(daoClass);
	}
}
``` 
Le constructeur contenant la classe modèle est obligatoire.




	


 